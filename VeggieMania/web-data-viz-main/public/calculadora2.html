<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="tudo">
        <div id="frutas">
            <h2>Frutas</h2>
            <form id="calcForm">
                <label>
                    <p><input type="checkbox" class="caixa" value="1" id="0">Abacate</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="2" id="1">Abacaxi</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="3" id="2">Açaí</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="4" id="3">Banana</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="5" id="4">Goiaba</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="6" id="5">Kiwi</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="7" id="6">Laranja</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="8" id="7">Limão</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="9" id="8">Maçã</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="10" id="9">Mamão</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="11" id="10">Manga</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="12" id="11">Maracujá</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="13" id="12">Melancia</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="14" id="13">Melão</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="15" id="14">Morango</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="16" id="15">Pêra</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="17" id="16">Pêssego</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="18" id="17">Tangerina</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="19" id="18">Uva</p>
                </label>
            </form>
            

        </div>
        <div id="verduras">
            <h2>Verduras</h2>
            <form id="calcForm">
                
                <label>
                    <p><input type="checkbox" class="caixa" value="20" id="19">Mostarda</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="21" id="20">Rúcula</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="22" id="21">Couve</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="23" id="22">Alface lisa</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="24" id="23">Escarola</p>
                </label>
            </form>
        </div>
        <div id="legumes">
            <h2>Legumes</h2>
            <form id="calcForm">
                <label>
                    <p><input type="checkbox" class="caixa" value="25" id="24">Palmito</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="26" id="25">Abobrinha</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="27" id="26">Berinjela</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="28" id="27">Cenoura</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="29" id="28">Chuchu</p>
                </label>
            </form>
        </div>
        <div id="carnes">
            <h2>Carnes</h2>
            <form id="calcForm">
                <label>
                    <p><input type="checkbox" class="caixa" value="30" id="29">Sardinhas</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="31" id="30">Pescada</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="32" id="31">Coxão mole bovino (sem gordura, cozido)
                    </p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="33" id="32">Músculo bovino (sem gordura, cozido)</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="34" id="33">Contra-filé bovino (sem gordura, cru)</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="35" id="34">Peito de frango (sem osso, cru)</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="36" id="35">Coxa de frango (sem osso, crua)</p>
                </label>
            </form>
        </div>
        <div id="queijos">
            <h2>Queijos</h2>
            <form id="calcForm">
                <label>
                    <p><input type="checkbox" class="caixa" value="37" id="36">Queijo Prato</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="38" id="37">Queijo Mozzarella</p>
                </label>
                <label>
                    <p><input type="checkbox" class="caixa" value="39" id="38">Ricota</p>
                </label>
            </form>
        </div>
    </div>

    <button type="button" onclick="calcular()">Calcular</button>

    <div id="div_mensagem"></div>

    <script>
        let totalCalorias = 0;
        let totalProteinas = 0;
        let totalFerro = 0;
        let totalCalcio = 0;
        let totalZinco = 0;

       


        var frutas = [
            "Abacate", "Abacaxi", "Açaí", "Banana", "Goiaba", "Kiwi",
            "Laranja", "Limão", "Maçã", "Mamão", "Manga", "Maracujá",
            "Melancia", "Melão", "Morango", "Pêra", "Pêssego", "Tangerina", "Uva"
        ];

        var calorias = [
            0.76, 0.5, 0.68, 1.09, 0.5, 0.59, 0.45, 0.22, 0.64, 0.44, 0.64, 0.74, 0.29, 0.24, 0.3, 0.54, 0.42, 0.4, 0.57
        ];

        var carboidrato = [
            0.0584, 0.116, 0.0766, 0.267, 0.134, 0.127, 0.108, 0.0525, 0.157, 0.107, 0.16, 0.123, 0.0652, 0.057, 0.0654, 0.14, 0.101, 0.0954, 0.137
        ];

        var fibraAlimentar = [
            0.0403, 0.0112, 0.0589, 0.0224, 0.0578, 0.0292, 0.0202, "tr", 0.0207, 0.0183, 0.0214, 0.0114, 0.0013, 0.0122, 0.0167, 0.03, 0.0189, 0.0094, 0.0093
        ];

        var vitaminaA = [
            0.0621, 0.02, 0.286, 0.256, 1.06, 0.0542, 0.0296, 0.314, 0.07, 1.15, 2.88, 1.08, 0.61, 0.0167, 0.0893, "tr", 0.47, 0.493, 0.0533
        ];

        var vitaminaC = [
            0.0732, 0.331, 0.42, 0.112, 0.899, 0.708, 0.473, 0.328, 0.0195, 0.804, 0.303, 0.198, 0.0494, 0.0697, 0.698, 0.026, 0.0355, 0.488, 0.0258
        ];

        var magnesio = [
            0.0765, 0.166, 0.209, 0.31, 0.0875, 0.112, 0.109, 0.0886, 0.153, 0.166, 0.0872, 0.223, 0.0806, 0.0493, 0.11, 0.0595, 0.0697, 0.0773, 0.0604
        ];

        var fosforo = [
            0.0834, 0.105, 0.202, 0.23, 0.159, 0.364, 0.202, 0.111, 0.21, 0.108, 0.124, 0.507, 0.0979, 0.0814, 0.288, 0.117, 0.168, 0.125, 0.175
        ];

        var potassio = [
            1.74, 1.37, 1.1, 3.46, 2.08, 2.95, 1.59, 1.19, 4.18, 1.73, 1.7, 3.38, 0.836, 1.73, 1.02, 1.09, 1.34, 1.31, 1.6
        ];
        console.log(calorias.length)
        console.log(frutas.length)
        console.log(potassio.length)
        console.log(vitaminaA.length)
        console.log(magnesio.length)
        console.log(vitaminaC.length)
        console.log(fosforo.length)
        console.log(fibraAlimentar.length)
        console.log(carboidrato)

        window.onload = function () {
            let checkboxes = document.querySelectorAll('.caixa');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function () {
                    criarInput(this);
                });
            });
        };

        function criarInput(checkbox) {
            if (checkbox.checked) {
                // Cria um input text com o mesmo id da checkbox
                let input = document.createElement('input');
                input.type = 'Number';
                input.id = 'input_' + checkbox.id;
                input.placeholder = 'Quantidade em gramas';
                checkbox.parentElement.appendChild(input);

            } else {
                // Remove o input correspondente se a checkbox for desmarcada
                let input = document.getElementById('input_' + checkbox.id);
                if (input) {
                    checkbox.parentElement.removeChild(input);
                }
            }
        }

        function calcular() {
            // Seleciona todas as checkboxes com a classe "caixa"
            div_mensagem.innerHTML = ""
            let checkboxes = document.querySelectorAll('.caixa');
            let selecionados = [];
            var texto = ""

            // Itera sobre todas as checkboxes usando um loop for e verifica se estão marcadas
            for (let i = 0; i < checkboxes.length; i++) {
                if (checkboxes[i].checked) {
                    selecionados.push(checkboxes[i].value);

                    nomel = nome[checkboxes[i].value - 1]
                    calorial = caloria[checkboxes[i].value - 1]
                    proteinal = proteina[checkboxes[i].value - 1]
                    ferrol = ferro[checkboxes[i].value - 1]
                    calciol = calcio[checkboxes[i].value - 1]
                    zincol = zinco[checkboxes[i].value - 1]


                    let quantidade = document.getElementById('input_' + checkboxes[i].id).value;

                    if (quantidade >= 1) {
                        let idx = checkboxes[i].value - 1;

                        let nomel = nome[idx];
                        let calorial = (caloria[idx] * quantidade).toFixed(2);
                        let proteinal = (proteina[idx] * quantidade).toFixed(2);
                        let ferrol = (ferro[idx] * quantidade).toFixed(2);
                        let calciol = (calcio[idx] * quantidade).toFixed(2);
                        let zincol = (zinco[idx] * quantidade).toFixed(2);


                        totalCalorias += caloria[idx] * quantidade;
                        totalProteinas += proteina[idx] * quantidade;
                        totalFerro += ferro[idx] * quantidade;
                        totalCalcio += calcio[idx] * quantidade;
                        totalZinco += zinco[idx] * quantidade;

                        texto += `${nomel} - Calorias:${calorial} | Proteinas:${proteinal} | Ferro:${ferrol} | Zinco:${zincol}<br>`

                    } else {
                        alert(`Selecione valores validos`)
                    }
                }
            }


            if (selecionados.length <= 0) {
                alert('Nenhuma checkbox foi selecionada.');
            }

            var totalCaloriasFixed = totalCalorias.toFixed(2);
            var totalProteinasFixed = totalProteinas.toFixed(2);
            var totalFerroFixed = totalFerro.toFixed(2);
            var totalCalcioFixed = totalCalcio.toFixed(2);
            var totalZincoFixed = totalZinco.toFixed(2);


            div_mensagem.innerHTML += `${texto}<br> O prato contém no total: Calorias: ${totalCaloriasFixed} - Proteina: ${totalProteinasFixed} - Ferro: ${totalFerroFixed} - Zinco:${totalZincoFixed}`
        }


    </script>
</body>

</html>